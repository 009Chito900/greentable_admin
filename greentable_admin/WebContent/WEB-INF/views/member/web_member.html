<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<link rel="stylesheet" type="text/css" href="http://211.238.142.27/html_prj/common/css/main.css">
<title>Insert title here</title>
<style type="text/css">
#wrap{ width: 900px; height: 1000px; margin: 0px auto }
#header{ width: 900px; height: 180px }
#headerTop{ width: 900px; height: 140px; position: relative; background: #FFFFFF url(http://211.238.142.27/html_prj/common/images/header_bg.png) }
#naviBar{ width: 900px; height: 40px; } 
#mainText{ font-family: 고딕,godic,Sans-Serif; font-size: 35px; font-weight: bold; width: 140px; height: 50px; margin: 0px auto; padding-top: 20px}

#container{ width: 900px; height: 700px; position: relative;}

#footer{ width: 900px; height: 120px; position: relative;}
#footerLogo{ width: 170px; height: 60px; margin-left: 10px; margin-top: 10px}
#footerContent{ width: 700px; height: 100px; margin-left: 200px; margin-top: 10px; margin-right:20px; 
				font-family: 고딕,godic; font-size: 14px; text-align: right;}
.point{ font-size: 12px; font-weight: bold; color: #FF0000}
</style>
<!-- 다음 우편 번호 API -->
<script src="https://t1.daumcdn.net/mapjsapi/bundle/postcode/prod/postcode.v2.js"></script> 
<!-- Google CDN -->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.4/jquery.min.js"></script>
<script type="text/javascript">

$(function(){
	
	//아이디 중복체크 팝업창
	$("[value='중복확인']").click(function() {
		var top = window.screenX + 80;
		var left = window.screenY + 200;
		window.open("dup_id.html", "id","width=480, height=284, top="+top+", left="+left);	
	});//click
	
	//비밀번호 확인 창에서 focus가 빠져나간 경우
	 $("#pass2").focusout(function(){
		if( $("#pass").val() != $("#pass2").val() ){
			alert("비밀번호와 비밀번호 확인이 같지 않습니다.");
			$("#pass").val() = "";
			$("#pass2").val() = "";
			$("#pass").focus();
		}//end if
	});//focusout
		
	//주민번호 앞자리가 6자리면 커서를 주민번호 뒷자리로 이동
	$("#ssn1").focusout(function(){
		if( $("#ssn1").val().length == 6 ) {
			$("#ssn2").focus();
		}//end if
	});//focusout

	//주민번호 뒷자리에서 커서가 빠져나가면 생년월일, 나이, 성별 채우기
	$("#ssn2").focusout(function() {
		
		if( $("#ss1").val().length != 6 ){ //주민번호 앞자리가 6자리가 아니면 
			alert("주민번호의 앞자리를 확인해주세요.");
			$("#ssn1") = "";
			$("#ssn2").focus();
		}//end if
		
		if( $("#ss2").val().length != 7 ){ //주민번호 뒷자리가 7자리가 아니면 
			alert("주민번호의 뒷자리를 확인해주세요.");
			$("#ss2") = "";
			$("#ss2").focus();
		}//end if
		
		//생년월일
		var ssn1value = $("#ssn1").val();
		var ssn2value = $("#ssn2").val();
		var num = ssn2value.charAt(0); //주민번호 뒷자리 첫번째 인덱스 값
		
		var tempYear = "18";
		if( num == 1 || num == 2 || num == 5 || num == 6 ){
			tempYear = "19";
		} else if ( num == 3 || num == 4 || num == 7 || num == 8) {
			tempYear = "20";
		}//end if
		
		var birthYear = tempYear + ssn1value.substring(0,2);
		$("#b_year").val( birthYear );
		$("#b_month").val( ssn1value.substring(2,4) );
		$("#b_day").val( ssn1value.substring(4) );
		
		//나이
		var date = new Date();
		$("#age").val() = date.getFullYear() - parseInt(birthYear) + 1;
		
		//성별 (1,3,5,7,9 -남자  0,2,4,6,8 -여자)
		var chkNum = ss2value.substring(0, 1);
		if(chkNum == 1 || chkNum == 3 || chkNum == 5 || chkNum == 7 || chkNum == 9) {
		      $("[value='남자']").prop("checked", true);
		   } else {
		      $("[value='여자']").prop("checked", true);
		   }//end else

	});//focusout
		
	
	//선택한 메일주소로 email2에 설정
	$("#mail").change(function() {
		var mailValue = $("#mail").val();
			
		if( mailValue == "none" ){
			$("#email2").val() = "";
			$("#email2").focus();
		} else {
			$("#email2").val(mailValue);
		}//end else
	})//change
	
	
	//우편번호 검색
	$("[value='검색']").click(function() {
	    new daum.Postcode({
	        oncomplete: function(data) {
	            // 팝업에서 검색결과 항목을 클릭했을때 실행할 코드를 작성하는 부분.
	
	            // 도로명 주소의 노출 규칙에 따라 주소를 표시한다.
	            // 내려오는 변수가 값이 없는 경우엔 공백('')값을 가지므로, 이를 참고하여 분기 한다.
	            var roadAddr = data.roadAddress; // 도로명 주소 변수
	            var extraRoadAddr = ''; // 참고 항목 변수
	
	            // 법정동명이 있을 경우 추가한다. (법정리는 제외)
	            // 법정동의 경우 마지막 문자가 "동/로/가"로 끝난다.
	            if(data.bname !== '' && /[동|로|가]$/g.test(data.bname)){
	                extraRoadAddr += data.bname;
	            }
	            // 건물명이 있고, 공동주택일 경우 추가한다.
	            if(data.buildingName !== '' && data.apartment === 'Y'){
	               extraRoadAddr += (extraRoadAddr !== '' ? ', ' + data.buildingName : data.buildingName);
	            }
	            // 표시할 참고항목이 있을 경우, 괄호까지 추가한 최종 문자열을 만든다.
	            if(extraRoadAddr !== ''){
	                extraRoadAddr = ' (' + extraRoadAddr + ')';
	            }
	
	            // 우편번호와 주소 정보를 해당 필드에 넣는다.
	            $("#zipcode").val(data.zonecode);
	            $("#addr1").val(roadAddr);
	            
	        }
	    }).open();
		
	});//click
		
		
	
	//가입버튼 눌렀을 때
	$("[value='가입']").click(function() {
		
		if($("#id").val() == ""){
			alert("아이디는 필수 입력입니다.");
			idDup();
			return;
		}//end if
		
		if($("#pass").val() == ""){
			alert("비밀번호 필수 입력입니다.");
			$("#pass").focus();
			return;
		}//end if
		
		if($("#pass2").val() == ""){
			alert("비밀번호 확인은 필수 입력입니다.");
			$("#pass2").focus();
			return;
		}//end if
		
		if($("#name").val() == ""){
			alert("이름은 필수 입력입니다.");
			$("#name").focus();
			return;
		}//end if
		
		if($("#ssn1").val() == "" || $("#ssn1").val().length != 6 ){
			alert("주민번호 앞자리는 필수 입력입니다.또는 주민번호의 자릿수를 확인해주세요.");
			$("#ssn1").focus();
			return;
		}//end if
		
		if($("#ssn2").val() == ""|| $("#ssn2").val().length != 7 ){
			alert("주민번호 뒷자리는 필수 입력입니다.또는 주민번호의 자릿수를 확인해주세요.");
			$("#ssn2").focus();
			return;
		}//end if
		
		if($("#email1").val() == ""){
			alert("이메일은 필수 입력입니다.");
			$("#email1").focus();
			return;
		}//end if
		
		if($("#email2").val() == ""){
			alert("도메인은 필수 입력입니다.");
			$("#email2").focus();
			return;
		}//end if
		
		if($("#zipcode").val() == ""){
			alert("우편번호는 필수 입력입니다.");
			searchZipcode();
			return;
		}//end if
		if($("#addr2").val() == ""){
			alert("상세주소는 필수 입력입니다.");
			searchZipcode();
			return;
		}//end if
		
		
		//관심언어 체크 3개 이상이면 경고창
		var langCnt = 0;
		$.each( $("[name='language]"),function(i, lang) {
			if( $(lang).is("checked")){ //체크되면
				langCnt++;//갯수 증가
			}//end if
		});//each
		
		if(langCnt > 3){
			alert("취미는 3개까지만 선택 할 수 있습니다.");
			$(lang).prop("checked", false);
			return;
		}//end if
		
	});//click

});//ready

</script>
</head>
<body>
<div id="wrap">
	<div id="header">
		<div id="headerTop">
			<div id="mainText" title="클라쓰 A">Class A.</div>
		</div>
		<div id="naviBar"></div>
	</div>
	
	<div id="container">
	<div id="memberDiv">
	<form action="member_join.html" name="frm">
<table>
	<tr><th colspan="2">회원가입</th></tr>
	<tr>
		<th><span class="point">*</span>아이디</th>				
		<td><input type="text" style="width: 120px" class="inputBox" name="id" id="id" readonly="readonly"/>&nbsp;
			<input type="button" value="중복확인" class="btn" /></td>
	</tr>
	<tr>
		<th><span class="point">*</span>비밀번호</th>
		<td><input type="password" style="width: 100px" name="pass" id="pass" class="inputBox"/></td>
	</tr>
	<tr>
		<th><span class="point">*</span>비밀번호확인</th>						<!-- onblur : 창이 포커스를 잃었을 경우 인지하는 것 -->
		<td><input type="password" style="width: 100px" name="pass2" id="pass2" class="inputBox" /></td>
	</tr>
	<tr>
		<th><span class="point">*</span>이름</th>
		<td><input type="text" size="3" style="width: 120px" name="name" id="name" class="inputBox"/></td>
	</tr>
	<tr>
		<th><span class="point">*</span>주민번호</th>
		<td> 																	
			<input type="text" style="width: 60px" class="inputBox" name="ssn1" id="ssn1" maxlength="6" /> - 
			<input type="password" style="width: 70px" class="inputBox" name="ssn2" id="ssn2" maxlength="7" >
		</td>
	</tr>
	<tr>
		<th>생년월일</th>
		<td>
			<input type="text" style="width: 40px" name="b_year" id="b_year" class="inputBox"/>년
			<input type="text" style="width: 20px" name="b_month" id="b_month" class="inputBox"/>월
			<input type="text" style="width: 20px" name="b_day" id="b_day" class="inputBox"/>일
		</td>
	</tr>
	<tr>
		<th>나이</th>
		<td><input type="text" style="width: 30px" name="age" id="age" class="inputBox" maxlength="3">살</td>
	</tr>
	<tr>
		<th>성별</th>
		<td>
			<input type="radio" name="gender" value="남자">남자
			<input type="radio" name="gender" value="여자">여자
		</td>
	</tr>
	<tr>
		<th><span class="point">*</span>이메일</th>
		<td>
			<input type="text" style="width: 120px" name="email1" id="email1" class="inputBox"/>@
			<input type="text" style="width: 80px" name="email2" id="email2" class="inputBox"/>
			<select name="mail" id="mail" size="1" class="inputBox">
				<option value="none">직접입력</option>
				<option value="gmail.com">gmail.com</option>
				<option value="naver.com">naver.com</option>
				<option value="daum.net">daum.net</option>
				<option value="nate.com">nate.com</option>
			</select>
		</td>
	</tr>
	<tr>
		<th><span class="point">*</span>우편번호</th>
		<td>
			<input type="text" style="width: 80px" name="zipcode" id="zipcode" class="inputBox" readonly="readonly"/>
			<input type="button" value="검색" class="btn" />
		</td>
	</tr>
	<tr>
		<th><span class="point">*</span>주소</th><td>
		<input type="text" style="width: 300px" name="addr1" id="addr1" class="inputBox" readonly="readonly"></td>
	</tr>
	<tr>
		<th><span class="point">*</span>상세주소</th>
		<td><input type="text" style="width: 300px" name="addr2" id="addr2" class="inputBox"></td>
	</tr>
	<tr>
		<th>관심언어</th>
		<td>
			<input type="checkbox" name="language" value="Java"/>Java
			<input type="checkbox" name="language" value="C/C++"/>C/C++
			<input type="checkbox" name="language" value="VB"/>VB
			<input type="checkbox" name="language" value="python"/>PyThon<br/>
			<input type="checkbox" name="language" value="JSP"/>JSP
			<input type="checkbox" name="language" value="PHP"/>PHP
			<input type="checkbox" name="language" value="ASP"/>ASP
			<input type="checkbox" name="language" value="HTML"/>HTML
		</td>
	</tr>
	<tr>
		<th>자기소개</th>
		<td><textarea name="intro" style="width: 300px; height: 80px" class="inputBox"></textarea></td>
	</tr>
	<tr>
		<th colspan="2" style="text-align: center">
			<input type="button" value="가입" class="btn" />
			<input type="reset" value="초기화" class="btn" />
			<div class="point">*는 필수입력</div>
		</th>
	</tr>
</table>
</form>
	
	</div>
	</div>
	
	<div id="footer">
		<div id="footerLogo"></div>
		<div id="footerContent">
			&copy; CopyRight. All Right Reserved. Class A
		</div>
	</div>
</div>
</body>
</html>